import{a as k,b as m,c as S,f as A}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-PQ3IAYNH.js";import{a as x}from"https://st-p.rmcdn.net/aab27dd3/dist/c/c-QHP3NFJY.js";function W(t,e){let n=e?.proxy||k({}),s=!(e==null||!e.sync),r=Object.keys(t);return r.forEach(l=>{if(Object.getOwnPropertyDescriptor(n,l))throw new Error("object property already defined");let y=t[l],a=null,d=()=>{if(a&&(Array.from(a).map(([o])=>((c,p)=>{let i=f.get(c);return!(i==null||!i[2]||(i[3].add(p),0))})(o,d)).some(o=>o)||Array.from(a).every(([o,c])=>m(o)===c.v)))return;let u=new Map,v=y(o=>(u.set(o,{v:m(o)}),o)),h=()=>{var o;u.forEach((c,p)=>{var i;let E=(i=a)==null||(i=i.get(p))==null?void 0:i.s;if(E)c.s=E;else{let b={s:p,d:n,k:l,c:d,n:s,i:r};M(b),c.s=b}}),(o=a)==null||o.forEach((c,p)=>{!u.has(p)&&c.s&&O(c.s)}),a=u};v instanceof Promise?v.finally(h):h(),n[l]=v};d()}),n}var f,g,j,w,M,O,P=x(()=>{"use strict";A();f=new WeakMap,g=new WeakMap,j=(t,e)=>{let n=f.get(t);n&&(n[0].forEach(s=>{let{d:r}=s;t!==r&&j(r)}),++n[2],e&&n[3].add(e))},w=t=>{let e=f.get(t);e&&(--e[2],e[2]||(e[3].forEach(n=>n()),e[3].clear()),e[0].forEach(n=>{let{d:s}=n;t!==s&&w(s)}))},M=t=>{let{s:e,d:n}=t,s=g.get(n);s||(s=[new Set],g.set(t.d,s)),s[0].add(t);let r=f.get(e);if(!r){let l=new Set,y=S(e,a=>{l.forEach(d=>{let{d:u,c:v,n:h,i:o}=d;e===u&&a.every(c=>c[1].length===1&&o.includes(c[1][0]))||d.p||(j(e,v),h?w(e):d.p=Promise.resolve().then(()=>{delete d.p,w(e)}))})},!0);r=[l,y,0,new Set],f.set(e,r)}r[0].add(t)},O=t=>{let{s:e,d:n}=t,s=g.get(n);s?.[0].delete(t),s?.[0].size===0&&g.delete(n);let r=f.get(e);if(r){let[l,y]=r;l.delete(t),l.size||(y(),f.delete(e))}}});export{W as a,P as b};
